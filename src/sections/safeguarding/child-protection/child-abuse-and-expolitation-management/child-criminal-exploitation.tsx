import { Box, Button, Grid, InputLabel, Typography, useTheme } from '@mui/material';
import { FormProvider } from '@root/components/hook-form'
import React from 'react'
import { useForm } from 'react-hook-form';
import { childCrimialExploitation, formSchema, initialValues } from './formData/child-criminal-exploitation-form-data';
import { yupResolver } from '@hookform/resolvers/yup';
import { LoadingButton } from '@mui/lab';


const ChildCriminalExploitation = () => {

  const theme = useTheme();

  const methods: any = useForm({
    resolver: yupResolver(formSchema),
    defaultValues: initialValues,
  });

  const {
    reset,
    control,
    register,
    setValue,
    handleSubmit,
    formState: { errors, isSubmitting, isDirty },
  } = methods;

  const onSubmit = async (data: any) => {
  };

  return (
    <FormProvider
      methods={methods} onSubmit={handleSubmit(onSubmit)}
    >
      <Grid container spacing={4}>
        {childCrimialExploitation.map((form: any, i: number) => (
          <Grid item xs={12} md={form.gridLength} key={i}>
            <Typography
              sx={{
                fontWeight: 600, mt: '-20px', mb: '20px', color: theme.palette.grey[600]
              }}
            >{form.head}
            </Typography>
            <Typography
              sx={{
                fontWeight: form.fontWeight, mb: 0.3, color: theme.palette.primary.main
              }}
            >{form.title}
            </Typography>
            <form.component
              size='small'
              {...form.otherOptions}
            >
              {form.otherOptions.select
                ? form.otherOptions.options.map((option: any) => (
                  <option key={option.value} value={option.value}>
                    {option.label}
                  </option>
                ))
                : null}
            </form.component>
          </Grid>
        ))}
        <Grid item xs={12}>
          <Box
            sx={{ display: "flex", gap: '1rem' }}>
            <LoadingButton
              type="submit"
              variant="contained"
            >
              Next
            </LoadingButton>
            <Button
              sx={{ backgroundColor: "#F6830F", "&:hover": { backgroundColor: "#F6830F", }, }}
              type="button"
              variant="contained"
            >Back</Button>
          </Box>
        </Grid>
      </Grid>
    </FormProvider>
  )
}

export default ChildCriminalExploitation